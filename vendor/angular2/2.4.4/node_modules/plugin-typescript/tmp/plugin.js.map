{"version":3,"file":null,"sources":["es6/logger.js","../node_modules/tslib/tslib.es6.js","es6/utils.js","es6/compiler-host.js","es6/transpiler.js","es6/resolver.js","es6/type-checker.js","es6/format-errors.js","es6/factory.js","es6/plugin.js"],"sourcesContent":["var Logger = (function () {\n    function Logger(options) {\n        this.options = options;\n        this.options = options || {};\n    }\n    Logger.prototype.log = function (msg) {\n        console.log(\"TypeScript\", \"[Info]\", msg);\n    };\n    Logger.prototype.error = function (msg) {\n        console.error(\"TypeScript\", \"[Error]\", msg);\n    };\n    Logger.prototype.warn = function (msg) {\n        console.warn(\"TypeScript\", \"[Warning]\", msg);\n    };\n    Logger.prototype.debug = function (msg) {\n        if (this.options.debug) {\n            console.log(\"TypeScript\", msg);\n        }\n    };\n    return Logger;\n}());\nexport default Logger;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\nexport const __assign = Object.assign || function (t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n\r\nexport const __decorate = function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\nexport const __param = function (paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n};\r\n\r\nexport const __metadata = function (metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n};\r\n\r\nexport const __awaiter = function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments)).next());\r\n    });\r\n};\r\n\r\nexport const __generator = function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\r\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};","import * as ts from \"typescript\";\nexport function isAbsolute(filename) {\n    return (filename[0] === '/');\n}\nexport function isRelative(filename) {\n    return (filename[0] === '.');\n}\nexport function isAmbientImport(filename) {\n    return (isAmbient(filename) && !isTypescriptDeclaration(filename));\n}\nexport function isAmbientReference(filename) {\n    return (isAmbient(filename) && isTypescriptDeclaration(filename));\n}\nexport function isAmbient(filename) {\n    return (!isRelative(filename) && !isAbsolute(filename));\n}\nvar typescriptRegex = /\\.tsx?$/i;\nexport function isTypescript(filename) {\n    return typescriptRegex.test(filename);\n}\nvar javascriptRegex = /\\.js$/i;\nexport function isJavaScript(filename) {\n    return javascriptRegex.test(filename);\n}\nvar mapRegex = /\\.map$/i;\nexport function isSourceMap(filename) {\n    return mapRegex.test(filename);\n}\nvar declarationRegex = /\\.d\\.tsx?$/i;\nexport function isTypescriptDeclaration(filename) {\n    return declarationRegex.test(filename);\n}\nvar htmlRegex = /\\.html$/i;\nexport function isHtml(filename) {\n    return htmlRegex.test(filename);\n}\nexport function tsToJs(tsFile) {\n    return tsFile.replace(typescriptRegex, '.js');\n}\nexport function tsToJsMap(tsFile) {\n    return tsFile.replace(typescriptRegex, '.js.map');\n}\nexport function jsToDts(jsFile) {\n    return jsFile.replace(javascriptRegex, '.d.ts');\n}\nexport function stripDoubleExtension(normalized) {\n    var parts = normalized.split('.');\n    if (parts.length > 1) {\n        var extensions = [\"js\", \"jsx\", \"ts\", \"tsx\", \"json\"];\n        if (extensions.indexOf(parts[parts.length - 2]) >= 0) {\n            return parts.slice(0, -1).join('.');\n        }\n    }\n    return normalized;\n}\nexport function hasError(diags) {\n    return diags.some(function (diag) { return (diag.category === ts.DiagnosticCategory.Error); });\n}\n","import * as ts from 'typescript';\nimport Logger from './logger';\nimport { isHtml, isTypescriptDeclaration } from './utils';\nvar logger = new Logger({ debug: false });\nexport var HTML_MODULE = \"__html_module__\";\nexport var CompilerHost = (function () {\n    function CompilerHost(options, builder) {\n        if (builder === void 0) { builder = false; }\n        this._reportedFiles = [];\n        this._options = options || {};\n        this._options.module = this.getEnum(this._options.module, ts.ModuleKind, ts.ModuleKind.System);\n        this._options.target = this.getEnum(this._options.target, ts.ScriptTarget, ts.ScriptTarget.ES5);\n        this._options.jsx = this.getEnum(this._options.jsx, ts.JsxEmit, ts.JsxEmit.None);\n        this._options.allowNonTsExtensions = (this._options.allowNonTsExtensions !== false);\n        this._options.skipDefaultLibCheck = (this._options.skipDefaultLibCheck !== false);\n        this._options.supportHtmlImports = (options.supportHtmlImports === true);\n        this._options.resolveAmbientRefs = (options.resolveAmbientRefs === true);\n        this._options.noResolve = true;\n        this._options.allowSyntheticDefaultImports = (this._options.allowSyntheticDefaultImports !== false);\n        this._options.moduleResolution = ts.ModuleResolutionKind.Classic;\n        this._options.types = this._options.types || [];\n        this._options.typings = this._options.typings || {};\n        this._files = {};\n        var source = \"var __html__: string = ''; export default __html__;\";\n        if ((this._options.target !== ts.ScriptTarget.ES6) && (this._options.module !== ts.ModuleKind.ES6))\n            source = source + \"export = __html__;\";\n        var file = this.addFile(HTML_MODULE, source);\n        file.dependencies = { list: [], mappings: {} };\n        file.checked = true;\n        file.errors = [];\n        if (this._options.supportHtmlImports) {\n            logger.warn(\"The 'supportHtmlImports' option is deprecated and will shortly be removed\");\n            logger.warn(\"Please use TypeScript's new 'wildcard declarations' feature instead\");\n        }\n        if (this._options.resolveAmbientRefs) {\n            logger.warn(\"The 'resolveAmbientRefs' option is deprecated and will shortly be removed\");\n            logger.warn(\"Please use External Typings support instead\");\n        }\n        if (this._options.targetLib) {\n            logger.warn(\"The 'targetLib' option is deprecated and will shortly be removed\");\n            logger.warn(\"Please use the 'lib' option instead\");\n            this.options.targetLib = this.getEnum(this._options.targetLib, ts.ScriptTarget, ts.ScriptTarget.ES6);\n        }\n        else if (!this._options.lib) {\n            this._options.lib = ['es6'];\n        }\n    }\n    CompilerHost.prototype.getEnum = function (enumValue, enumType, defaultValue) {\n        if (enumValue == undefined)\n            return defaultValue;\n        for (var enumProp in enumType) {\n            if (enumProp.toLowerCase() === enumValue.toString().toLowerCase()) {\n                if (typeof enumType[enumProp] === \"string\")\n                    return enumType[enumType[enumProp]];\n                else\n                    return enumType[enumProp];\n            }\n        }\n        throw new Error(\"Unrecognised value [\" + enumValue + \"]\");\n    };\n    Object.defineProperty(CompilerHost.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CompilerHost.prototype.getDefaultLibFileName = function () {\n        return this.getDefaultLibFilePaths()[0];\n    };\n    CompilerHost.prototype.getDefaultLibFilePaths = function () {\n        if (this._options.targetLib === ts.ScriptTarget.ES5)\n            return ['typescript/lib/lib.d.ts'];\n        else if (this._options.targetLib === ts.ScriptTarget.ES5)\n            return ['typescript/lib/lib.es6.d.ts'];\n        else\n            return this._options.lib.map(function (libName) { return \"typescript/lib/lib.\" + libName + \".d.ts\"; });\n    };\n    CompilerHost.prototype.useCaseSensitiveFileNames = function () {\n        return false;\n    };\n    CompilerHost.prototype.getCanonicalFileName = function (fileName) {\n        return ts.normalizePath(fileName);\n    };\n    CompilerHost.prototype.getCurrentDirectory = function () {\n        return \"\";\n    };\n    CompilerHost.prototype.getNewLine = function () {\n        return \"\\n\";\n    };\n    CompilerHost.prototype.readFile = function (fileName) {\n        throw new Error(\"Not implemented\");\n    };\n    CompilerHost.prototype.writeFile = function (name, text, writeByteOrderMark) {\n        throw new Error(\"Not implemented\");\n    };\n    CompilerHost.prototype.getSourceFile = function (fileName) {\n        fileName = this.getCanonicalFileName(fileName);\n        return this._files[fileName];\n    };\n    CompilerHost.prototype.getAllFiles = function () {\n        var _this = this;\n        return Object.keys(this._files).map(function (key) { return _this._files[key]; });\n    };\n    CompilerHost.prototype.fileExists = function (fileName) {\n        return !!this.getSourceFile(fileName);\n    };\n    CompilerHost.prototype.getDirectories = function () {\n        throw new Error(\"Not implemented\");\n    };\n    CompilerHost.prototype.addFile = function (fileName, text) {\n        fileName = this.getCanonicalFileName(fileName);\n        var file = this._files[fileName];\n        if (!file) {\n            this._files[fileName] = ts.createSourceFile(fileName, text, this._options.target);\n            logger.debug(\"added \" + fileName);\n        }\n        else if (file.text != text) {\n            this._files[fileName] = ts.createSourceFile(fileName, text, this._options.target);\n            this.invalidate(fileName);\n            logger.debug(\"updated \" + fileName);\n        }\n        return this._files[fileName];\n    };\n    CompilerHost.prototype.invalidate = function (fileName, seen) {\n        var _this = this;\n        seen = seen || [];\n        if (seen.indexOf(fileName) < 0) {\n            seen.push(fileName);\n            var file = this._files[fileName];\n            if (file) {\n                file.checked = false;\n                file.errors = [];\n            }\n            Object.keys(this._files)\n                .map(function (key) { return _this._files[key]; })\n                .forEach(function (file) {\n                if (file.dependencies && file.dependencies.list.indexOf(fileName) >= 0) {\n                    _this.invalidate(file.fileName, seen);\n                }\n            });\n        }\n    };\n    CompilerHost.prototype.resolveModuleNames = function (moduleNames, containingFile) {\n        var _this = this;\n        return moduleNames.map(function (modName) {\n            var dependencies = _this._files[containingFile].dependencies;\n            if (isHtml(modName) && _this._options.supportHtmlImports) {\n                return { resolvedFileName: HTML_MODULE };\n            }\n            else if (dependencies) {\n                var resolvedFileName = dependencies.mappings[modName];\n                if (!resolvedFileName) {\n                    if (_this._reportedFiles.indexOf(resolvedFileName) < 0) {\n                        logger.warn(containingFile + ' -> ' + modName + ' could not be resolved');\n                        _this._reportedFiles.push(resolvedFileName);\n                    }\n                    return undefined;\n                }\n                else {\n                    var isExternalLibraryImport = isTypescriptDeclaration(resolvedFileName);\n                    return { resolvedFileName: resolvedFileName, isExternalLibraryImport: isExternalLibraryImport };\n                }\n            }\n            else {\n                return ts.resolveModuleName(modName, containingFile, _this._options, _this).resolvedModule;\n            }\n        });\n    };\n    return CompilerHost;\n}());\n","import * as ts from 'typescript';\nimport { isJavaScript, isSourceMap, hasError } from './utils';\nimport Logger from './logger';\nvar logger = new Logger({ debug: false });\nexport var Transpiler = (function () {\n    function Transpiler(host) {\n        this._host = host;\n        this._options = ts.clone(this._host.options);\n        this._options.isolatedModules = true;\n        if (this._options.sourceMap === undefined)\n            this._options.sourceMap = this._options.inlineSourceMap;\n        if (this._options.sourceMap === undefined)\n            this._options.sourceMap = true;\n        this._options.inlineSourceMap = false;\n        this._options.declaration = false;\n        this._options.noEmitOnError = false;\n        this._options.out = undefined;\n        this._options.outFile = undefined;\n        this._options.noLib = true;\n        this._options.lib = undefined;\n        this._options.types = [];\n        this._options.suppressOutputPathCheck = true;\n        this._options.noEmit = false;\n    }\n    Transpiler.prototype.transpile = function (sourceName) {\n        logger.debug(\"transpiling \" + sourceName);\n        var file = this._host.getSourceFile(sourceName);\n        if (!file)\n            throw new Error(\"file [\" + sourceName + \"] has not been added\");\n        if (!file.output) {\n            var program = ts.createProgram([sourceName], this._options, this._host);\n            var jstext_1 = undefined;\n            var maptext_1 = undefined;\n            var emitResult = program.emit(undefined, function (outputName, output) {\n                if (isJavaScript(outputName))\n                    jstext_1 = output.slice(0, output.lastIndexOf(\"//#\"));\n                else if (isSourceMap(outputName))\n                    maptext_1 = output;\n                else\n                    throw new Error(\"unexpected ouput file \" + outputName);\n            });\n            var diagnostics = emitResult.diagnostics\n                .concat(program.getOptionsDiagnostics())\n                .concat(program.getSyntacticDiagnostics());\n            file.output = {\n                failure: hasError(diagnostics),\n                errors: diagnostics,\n                js: jstext_1,\n                sourceMap: maptext_1\n            };\n        }\n        return file.output;\n    };\n    return Transpiler;\n}());\n","import * as tslib_1 from \"tslib\";\nimport * as ts from 'typescript';\nimport Logger from './logger';\nimport { isTypescript, isTypescriptDeclaration, isJavaScript, isRelative, isAmbient, jsToDts } from './utils';\nvar logger = new Logger({ debug: false });\nexport var Resolver = (function () {\n    function Resolver(host, resolve, lookup) {\n        this._host = host;\n        this._resolve = resolve;\n        this._lookup = lookup;\n        this._declarationFiles = [];\n    }\n    Resolver.prototype.resolve = function (sourceName) {\n        var _this = this;\n        var file = this._host.getSourceFile(sourceName);\n        if (!file)\n            throw new Error(\"file [\" + sourceName + \"] has not been added\");\n        if (!file.pendingDependencies) {\n            var info = ts.preProcessFile(file.text, true);\n            file.isLibFile = info.isLibFile;\n            file.pendingDependencies = this.resolveDependencies(sourceName, info)\n                .then(function (mappings) {\n                var deps = Object.keys(mappings)\n                    .map(function (key) { return mappings[key]; })\n                    .filter(function (res) { return isTypescript(res); });\n                var refs = _this._declarationFiles.filter(function (decl) {\n                    return (decl != sourceName) && (deps.indexOf(decl) < 0);\n                });\n                var list = deps.concat(refs);\n                file.dependencies = { mappings: mappings, list: list };\n                return file.dependencies;\n            });\n        }\n        return file.pendingDependencies;\n    };\n    Resolver.prototype.registerDeclarationFile = function (sourceName) {\n        this._declarationFiles.push(sourceName);\n    };\n    Resolver.prototype.resolveDependencies = function (sourceName, info) {\n        var _this = this;\n        var resolvedReferences = info.referencedFiles\n            .map(function (ref) { return _this.resolveReference(ref.fileName, sourceName); });\n        var resolvedTypes = info.typeReferenceDirectives\n            .map(function (typ) { return _this.resolveTypeReference(typ.fileName, sourceName); });\n        var resolvedImports = info.importedFiles\n            .map(function (imp) { return _this.resolveImport(imp.fileName, sourceName); });\n        var resolvedExternals = info.ambientExternalModules && info.ambientExternalModules\n            .map(function (ext) { return _this.resolveImport(ext, sourceName); });\n        var refs = []\n            .concat(info.referencedFiles)\n            .concat(info.typeReferenceDirectives)\n            .concat(info.importedFiles)\n            .map(function (pre) { return pre.fileName; })\n            .concat(info.ambientExternalModules);\n        var deps = []\n            .concat(resolvedReferences)\n            .concat(resolvedTypes)\n            .concat(resolvedImports)\n            .concat(resolvedExternals);\n        return Promise.all(deps)\n            .then(function (resolved) {\n            return refs.reduce(function (result, ref, idx) {\n                result[ref] = resolved[idx];\n                return result;\n            }, {});\n        });\n    };\n    Resolver.prototype.resolveReference = function (referenceName, sourceName) {\n        if ((isAmbient(referenceName) && !this._host.options.resolveAmbientRefs) || (referenceName.indexOf(\"/\") === -1))\n            referenceName = \"./\" + referenceName;\n        return this._resolve(referenceName, sourceName);\n    };\n    Resolver.prototype.resolveTypeReference = function (referenceName, sourceName) {\n        return this.lookupAtType(referenceName, sourceName);\n    };\n    Resolver.prototype.resolveImport = function (importName, sourceName) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var address, atTypeAddress, typingAddress;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (isRelative(importName) && isTypescriptDeclaration(sourceName) && !isTypescriptDeclaration(importName))\n                            importName = importName + \".d.ts\";\n                        return [4 /*yield*/, this._resolve(importName, sourceName)];\n                    case 1:\n                        address = _a.sent();\n                        if (!isJavaScript(address))\n                            return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.lookupAtType(importName, sourceName)];\n                    case 2:\n                        atTypeAddress = _a.sent();\n                        if (atTypeAddress)\n                            return [2 /*return*/, atTypeAddress];\n                        return [4 /*yield*/, this.lookupTyping(importName, sourceName, address)];\n                    case 3:\n                        typingAddress = _a.sent();\n                        if (typingAddress)\n                            return [2 /*return*/, typingAddress];\n                        _a.label = 4;\n                    case 4: return [2 /*return*/, address];\n                }\n            });\n        });\n    };\n    Resolver.prototype.lookupTyping = function (importName, sourceName, address) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var packageName, packageTypings, importTypings, metadata;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        packageName = this.getPackageName(importName);\n                        packageTypings = this._host.options.typings[packageName];\n                        importTypings = this._host.options.typings[importName];\n                        if (!importTypings)\n                            return [3 /*break*/, 1];\n                        return [2 /*return*/, this.resolveTyping(importTypings, packageName, sourceName, address)];\n                    case 1:\n                        if (!packageTypings)\n                            return [3 /*break*/, 2];\n                        return [2 /*return*/, this.resolveTyping(true, packageName, sourceName, address)];\n                    case 2: return [4 /*yield*/, this._lookup(address)];\n                    case 3:\n                        metadata = _a.sent();\n                        return [2 /*return*/, this.resolveTyping(metadata.typings, packageName, sourceName, address)];\n                }\n            });\n        });\n    };\n    Resolver.prototype.getPackageName = function (importName) {\n        var packageParts = importName.split('/');\n        if ((packageParts[0].indexOf('@') === 0) && (packageParts.length > 1)) {\n            return packageParts[0] + '/' + packageParts[1];\n        }\n        else {\n            return packageParts[0];\n        }\n    };\n    Resolver.prototype.resolveTyping = function (typings, packageName, sourceName, address) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var typingsName;\n            return tslib_1.__generator(this, function (_a) {\n                if (typings === true) {\n                    return [2 /*return*/, jsToDts(address)];\n                }\n                else if (typeof (typings) === 'string') {\n                    typingsName = isRelative(typings) ? typings.slice(2) : typings;\n                    return [2 /*return*/, this._resolve(packageName + '/' + typingsName, sourceName)];\n                }\n                else if (typings) {\n                    throw new Error(\"invalid 'typings' value [\" + typings + \"] [\" + address + \"]\");\n                }\n                else {\n                    return [2 /*return*/, undefined];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Resolver.prototype.lookupAtType = function (importName, sourceName) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var resolved;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this._host.options.types.indexOf(importName) < 0)\n                            return [2 /*return*/, undefined];\n                        return [4 /*yield*/, this._resolve('@types/' + importName, sourceName)];\n                    case 1:\n                        resolved = _a.sent();\n                        if (isJavaScript(resolved))\n                            resolved = resolved.slice(0, -3);\n                        if (!isTypescriptDeclaration(resolved))\n                            resolved = resolved + '/index.d.ts';\n                        return [2 /*return*/, resolved];\n                }\n            });\n        });\n    };\n    return Resolver;\n}());\n","import * as ts from 'typescript';\nimport Logger from './logger';\nimport { isTypescriptDeclaration, hasError } from './utils';\nimport { HTML_MODULE } from \"./compiler-host\";\nvar logger = new Logger({ debug: false });\nexport var TypeChecker = (function () {\n    function TypeChecker(host) {\n        this._host = host;\n        this._options = ts.clone(this._host.options);\n        this._options.inlineSourceMap = false;\n        this._options.sourceMap = false;\n        this._options.declaration = false;\n        this._options.isolatedModules = false;\n        this._options.skipDefaultLibCheck = true;\n    }\n    TypeChecker.prototype.check = function () {\n        var candidates = this.getCandidates(false);\n        if (candidates.some(function (candidate) { return !candidate.file.checked && candidate.checkable && !isTypescriptDeclaration(candidate.name); }))\n            return this.getAllDiagnostics(candidates);\n        else\n            return [];\n    };\n    TypeChecker.prototype.forceCheck = function () {\n        var candidates = this.getCandidates(true);\n        if (candidates.some(function (candidate) { return !candidate.file.checked; }))\n            return this.getAllDiagnostics(candidates);\n        else\n            return [];\n    };\n    TypeChecker.prototype.hasErrors = function () {\n        return this._host.getAllFiles()\n            .filter(function (file) { return file.fileName != HTML_MODULE; })\n            .some(function (file) { return file.checked && hasError(file.errors); });\n    };\n    TypeChecker.prototype.getCandidates = function (force) {\n        var _this = this;\n        var candidates = this._host\n            .getAllFiles()\n            .filter(function (file) { return file.fileName != HTML_MODULE; })\n            .map(function (file) { return ({\n            name: file.fileName,\n            file: file,\n            seen: false,\n            resolved: !!file.dependencies,\n            checkable: force || undefined,\n            deps: file.dependencies && file.dependencies.list\n        }); });\n        if (!force) {\n            var candidatesMap_1 = candidates.reduce(function (result, candidate) {\n                result[candidate.name] = candidate;\n                return result;\n            }, {});\n            candidates.forEach(function (candidate) { return candidate.checkable = _this.isCheckable(candidate, candidatesMap_1); });\n        }\n        return candidates;\n    };\n    TypeChecker.prototype.isCheckable = function (candidate, candidatesMap) {\n        var _this = this;\n        if (!candidate)\n            return false;\n        else {\n            if (!candidate.seen) {\n                candidate.seen = true;\n                candidate.checkable = candidate.resolved && candidate.deps.every(function (dep) { return _this.isCheckable(candidatesMap[dep], candidatesMap); });\n            }\n            return (candidate.checkable !== false);\n        }\n    };\n    TypeChecker.prototype.getAllDiagnostics = function (candidates) {\n        var filelist = candidates.map(function (dep) { return dep.name; }).concat([HTML_MODULE]);\n        var program = ts.createProgram(filelist, this._options, this._host);\n        return candidates.reduce(function (errors, candidate) {\n            if (candidate.checkable && !candidate.file.checked) {\n                candidate.file.errors = [];\n                if (!candidate.file.isLibFile) {\n                    candidate.file.errors = program.getSyntacticDiagnostics(candidate.file)\n                        .concat(program.getSemanticDiagnostics(candidate.file));\n                }\n                candidate.file.checked = true;\n                return errors.concat(candidate.file.errors);\n            }\n            else {\n                return errors;\n            }\n        }, program.getGlobalDiagnostics());\n    };\n    return TypeChecker;\n}());\n","import * as ts from 'typescript';\nexport function formatErrors(diags, logger) {\n    diags.slice(0, 10)\n        .forEach(function (diag) {\n        if (diag.file) {\n            var position = diag.file.getLineAndCharacterOfPosition(diag.start);\n            var filename = diag.file.fileName;\n            var locationText = filename + \":\" + (position.line + 1) + \":\" + (position.character + 1);\n            if (diag.category === ts.DiagnosticCategory.Error)\n                logger.error(locationText);\n            else\n                logger.warn(locationText);\n        }\n        var messageText = ts.flattenDiagnosticMessageText(diag.messageText, \"\\n\");\n        messageText = messageText + \" (TS\" + diag.code + \")\";\n        if (diag.category === ts.DiagnosticCategory.Error)\n            logger.error(messageText);\n        else\n            logger.warn(messageText);\n    });\n}\n","import * as tslib_1 from \"tslib\";\nimport * as ts from 'typescript';\nimport Logger from './logger';\nimport { CompilerHost } from './compiler-host';\nimport { Transpiler } from './transpiler';\nimport { Resolver } from './resolver';\nimport { TypeChecker } from './type-checker';\nimport { formatErrors } from './format-errors';\nimport { isTypescriptDeclaration } from './utils';\nvar logger = new Logger({ debug: false });\nexport function createFactory(sjsconfig, builder, _resolve, _fetch, _lookup) {\n    if (sjsconfig === void 0) { sjsconfig = {}; }\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var tsconfigFiles, typingsFiles, options, services, resolvedFiles;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    tsconfigFiles = [];\n                    typingsFiles = [];\n                    return [4 /*yield*/, loadOptions(sjsconfig, _resolve, _fetch)];\n                case 1:\n                    options = _a.sent();\n                    return [4 /*yield*/, createServices(options, builder, _resolve, _lookup)];\n                case 2:\n                    services = _a.sent();\n                    if (!services.options.typeCheck)\n                        return [3 /*break*/, 4];\n                    return [4 /*yield*/, resolveDeclarationFiles(services.options, _resolve)];\n                case 3:\n                    resolvedFiles = _a.sent();\n                    resolvedFiles.forEach(function (resolvedFile) {\n                        services.resolver.registerDeclarationFile(resolvedFile);\n                    });\n                    _a.label = 4;\n                case 4: return [2 /*return*/, services];\n            }\n        });\n    });\n}\nfunction loadOptions(sjsconfig, _resolve, _fetch) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var tsconfig, tsconfigAddress, tsconfigText, result, files;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!sjsconfig.tsconfig)\n                        return [3 /*break*/, 3];\n                    tsconfig = (sjsconfig.tsconfig === true) ? \"tsconfig.json\" : sjsconfig.tsconfig;\n                    return [4 /*yield*/, _resolve(tsconfig)];\n                case 1:\n                    tsconfigAddress = _a.sent();\n                    return [4 /*yield*/, _fetch(tsconfigAddress)];\n                case 2:\n                    tsconfigText = _a.sent();\n                    result = ts.parseConfigFileTextToJson(tsconfigAddress, tsconfigText);\n                    if (result.error) {\n                        formatErrors([result.error], logger);\n                        throw new Error(\"failed to load tsconfig from \" + tsconfigAddress);\n                    }\n                    files = result.config.files;\n                    return [2 /*return*/, ts.extend(ts.extend({ tsconfigAddress: tsconfigAddress, files: files }, sjsconfig), result.config.compilerOptions)];\n                case 3: return [2 /*return*/, sjsconfig];\n            }\n        });\n    });\n}\nfunction resolveDeclarationFiles(options, _resolve) {\n    var files = options.files || [];\n    var declarationFiles = files\n        .filter(function (filename) { return isTypescriptDeclaration(filename); })\n        .map(function (filename) { return _resolve(filename, options.tsconfigAddress); });\n    return Promise.all(declarationFiles);\n}\nfunction createServices(options, builder, _resolve, _lookup) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var host, transpiler, resolver, typeChecker, defaultLibResolutions, defaultLibAddresses;\n        return tslib_1.__generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    host = new CompilerHost(options, builder);\n                    transpiler = new Transpiler(host);\n                    resolver = undefined;\n                    typeChecker = undefined;\n                    if (!options.typeCheck)\n                        return [3 /*break*/, 2];\n                    resolver = new Resolver(host, _resolve, _lookup);\n                    typeChecker = new TypeChecker(host);\n                    if (!!host.options.noLib)\n                        return [3 /*break*/, 2];\n                    defaultLibResolutions = host.getDefaultLibFilePaths().map(function (libPath) { return _resolve(libPath); });\n                    return [4 /*yield*/, Promise.all(defaultLibResolutions)];\n                case 1:\n                    defaultLibAddresses = _a.sent();\n                    defaultLibAddresses.forEach(function (defaultLibAddress) {\n                        resolver.registerDeclarationFile(defaultLibAddress);\n                    });\n                    _a.label = 2;\n                case 2: return [2 /*return*/, { host: host, transpiler: transpiler, resolver: resolver, typeChecker: typeChecker, options: options }];\n            }\n        });\n    });\n}\n","import * as ts from 'typescript';\nimport Logger from './logger';\nimport { createFactory } from './factory';\nimport { formatErrors } from './format-errors';\nimport { isTypescript, isTypescriptDeclaration, stripDoubleExtension, hasError } from './utils';\nvar logger = new Logger({ debug: false });\nvar factory = undefined;\nexport function translate(load) {\n    var loader = this;\n    logger.debug(\"systemjs translating \" + load.address);\n    factory = factory || createFactory(System.typescriptOptions, this.builder, _resolve, _fetch, _lookup)\n        .then(function (output) {\n        validateOptions(output.host.options);\n        return output;\n    });\n    return factory.then(function (_a) {\n        var transpiler = _a.transpiler, resolver = _a.resolver, typeChecker = _a.typeChecker, host = _a.host;\n        host.addFile(load.address, load.source);\n        if (isTypescriptDeclaration(load.address)) {\n            if (loader.builder && (host.options.module == ts.ModuleKind.ES6)) {\n                load.source = null;\n                load.metadata.format = 'esm';\n            }\n            else {\n                load.source = '';\n                load.metadata.format = 'cjs';\n            }\n        }\n        else {\n            var result = transpiler.transpile(load.address);\n            formatErrors(result.errors, logger);\n            if (result.failure)\n                throw new Error('TypeScript transpilation failed');\n            load.source = result.js;\n            if (result.sourceMap)\n                load.metadata.sourceMap = JSON.parse(result.sourceMap);\n            if (host.options.module === ts.ModuleKind.System)\n                load.metadata.format = 'register';\n            else if (host.options.module === ts.ModuleKind.ES6)\n                load.metadata.format = 'esm';\n            else if (host.options.module === ts.ModuleKind.CommonJS)\n                load.metadata.format = 'cjs';\n        }\n        if (loader.builder)\n            return typeCheck(load).then(function () { return load.source; });\n        else\n            return Promise.resolve(load.source);\n    });\n}\nexport function instantiate(load, systemInstantiate) {\n    return factory.then(function (_a) {\n        var typeChecker = _a.typeChecker, resolver = _a.resolver, host = _a.host;\n        return systemInstantiate(load)\n            .then(function (entry) {\n            return typeCheck(load).then(function (errors) {\n                if ((host.options.typeCheck === \"strict\") && hasError(errors))\n                    throw new Error(\"Typescript compilation failed\");\n                entry.deps = entry.deps.concat(load.metadata.deps);\n                return entry;\n            });\n        });\n    });\n}\nfunction typeCheck(load) {\n    return factory.then(function (_a) {\n        var typeChecker = _a.typeChecker, resolver = _a.resolver, host = _a.host;\n        if (host.options.typeCheck && isTypescript(load.address)) {\n            return resolver.resolve(load.address)\n                .then(function (deps) {\n                var errors = typeChecker.check();\n                formatErrors(errors, logger);\n                var depslist = deps.list\n                    .filter(function (d) { return isTypescript(d); })\n                    .map(function (d) { return isTypescriptDeclaration(d) ? d + '!' + __moduleName : d; });\n                load.metadata.deps = depslist;\n                return errors;\n            });\n        }\n        else {\n            return [];\n        }\n    });\n}\nexport function bundle() {\n    if (!factory)\n        return [];\n    return factory.then(function (_a) {\n        var typeChecker = _a.typeChecker, host = _a.host;\n        if (host.options.typeCheck) {\n            var errors = typeChecker.forceCheck();\n            formatErrors(errors, logger);\n            if ((host.options.typeCheck === \"strict\") && typeChecker.hasErrors())\n                throw new Error(\"Typescript compilation failed\");\n        }\n        return [];\n    });\n}\nfunction validateOptions(options) {\n    if ((options.module != ts.ModuleKind.System) && (options.module != ts.ModuleKind.ES6)) {\n        logger.warn(\"transpiling to \" + ts.ModuleKind[options.module] + \", consider setting module: \\\"system\\\" in typescriptOptions to transpile directly to System.register format\");\n    }\n}\nfunction _resolve(dep, parent) {\n    if (!parent)\n        parent = __moduleName;\n    return System.normalize(dep, parent)\n        .then(function (normalized) {\n        normalized = normalized.split('!')[0];\n        normalized = stripDoubleExtension(normalized);\n        logger.debug(\"resolved \" + normalized + \" (\" + parent + \" -> \" + dep + \")\");\n        return ts.normalizePath(normalized);\n    });\n}\nfunction _fetch(address) {\n    return System.fetch({ name: address, address: address, metadata: {} })\n        .then(function (text) {\n        logger.debug(\"fetched \" + address);\n        return text;\n    });\n}\nfunction _lookup(address) {\n    var metadata = {};\n    return System.locate({ name: address, address: address, metadata: metadata })\n        .then(function () {\n        logger.debug(\"located \" + address);\n        return metadata;\n    });\n}\n"],"names":["ts.DiagnosticCategory","logger","ts.ModuleKind","ts.ScriptTarget","ts.JsxEmit","ts.ModuleResolutionKind","ts.normalizePath","ts.createSourceFile","ts.resolveModuleName","ts.clone","ts.createProgram","ts.preProcessFile","tslib_1.__awaiter","tslib_1.__generator","ts.flattenDiagnosticMessageText","ts.parseConfigFileTextToJson","ts.extend"],"mappings":"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"}