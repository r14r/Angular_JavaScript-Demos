webpackJsonp([1],{50:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(51);o.platformBrowserDynamic().bootstrapModule(i.AppModule)},51:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,l=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(l=(c<3?i(l):c>3?i(e,n,l):i(e,n))||l);return c>3&&l&&Object.defineProperty(e,n,l),l};Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),c=n(0),l=n(52),r=n(54),s=function(){function AppModule(){}return AppModule=o([c.NgModule({bootstrap:[l.AppComponent],imports:[i.BrowserModule],declarations:[l.AppComponent,r.TextSelectDirective]})],AppModule)}();e.AppModule=s},52:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,l=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(l=(c<3?i(l):c>3?i(e,n,l):i(e,n))||l);return c>3&&l&&Object.defineProperty(e,n,l),l},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),l=function(){function AppComponent(){this.hostRectangle=null,this.selectedText=""}return AppComponent.prototype.renderRectangles=function(t){console.group("Text Select Event"),console.log("Text:",t.text),console.log("Viewport Rectangle:",t.viewportRectangle),console.log("Host Rectangle:",t.hostRectangle),console.groupEnd(),t.hostRectangle?(this.hostRectangle=t.hostRectangle,this.selectedText=t.text):(this.hostRectangle=null,this.selectedText="")},AppComponent.prototype.shareSelection=function(){console.group("Shared Text"),console.log(this.selectedText),console.groupEnd(),document.getSelection().removeAllRanges(),this.hostRectangle=null,this.selectedText=""},AppComponent=o([c.Component({selector:"my-app",styles:[n(53)],template:'\n\t\t<div>\n\t\t\t<p *ngFor="let i of [ 1, 2, 3 ]">\n\t\t\t\tThis is some text before the active selection zone.\n\t\t\t</p>\n\t\t</div>\n\n\t\t<div (textSelect)="renderRectangles( $event )" class="container">\n\n\t\t\t<p *ngFor="let i of [ 1, 2, 3, 4, 5, 6 ]">\n\t\t\t\tDo I still Love you? Absolutely. There is not a doubt in my mind. Through\n\t\t\t\tall my mind, my ego&hellip; I was always faithful in my Love for you.\n\t\t\t\tThat I made you doubt it, that is the great mistake of a Life full of\n\t\t\t\tmistakes. The truth doesn\'t set us free, Robin. I can tell you I Love you\n\t\t\t\tas many times as you can stand to hear it and all that does, the only\n\t\t\t\tthing, is remind us&hellip; that Love is not enough. Not even close.\n\t\t\t</p>\n\n\t\t\t\x3c!--\n\t\t\t\tThe host rectangle has to be contained WITHIN the element that has the\n\t\t\t\t[textSelect] directive because the rectangle will be absolutely\n\t\t\t\tpositioned relative to said element.\n\t\t\t--\x3e\n\t\t\t<div\n\t\t\t\t*ngIf="hostRectangle"\n\t\t\t\tclass="indicator"\n\t\t\t\t[style.left.px]="hostRectangle.left"\n\t\t\t\t[style.top.px]="hostRectangle.top"\n\t\t\t\t[style.width.px]="hostRectangle.width"\n\t\t\t\t[style.height.px]="0">\n\n\t\t\t\t<div class="indicator__cta">\n\t\t\t\t\t\x3c!--\n\t\t\t\t\t\tNOTE: Because we DON\'T WANT the selected text to get deselected\n\t\t\t\t\t\twhen we click on the call-to-action, we have to PREVENT THE \n\t\t\t\t\t\tDEFAULT BEHAVIOR and STOP PROPAGATION on some of the events. The\n\t\t\t\t\t\tbyproduct of this is that the (click) event won\'t fire. As such,\n\t\t\t\t\t\twe then have to consume the click-intent by way of the (mouseup)\n\t\t\t\t\t\tevent.\n\t\t\t\t\t--\x3e\n\t\t\t\t\t<a\n\t\t\t\t\t\t(mousedown)="$event.preventDefault()"\n\t\t\t\t\t\t(mouseup)="$event.stopPropagation(); shareSelection()"\n\t\t\t\t\t\tclass="indicator__cta-link">\n\t\t\t\t\t\tShare With Friends\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div>\n\t\t\t<p *ngFor="let i of [ 1, 2, 3 ]">\n\t\t\t\tThis is some text after the active selection zone.\n\t\t\t</p>\n\t\t</div>\n\t'}),i("design:paramtypes",[])],AppComponent)}();e.AppComponent=l},53:function(t,e){t.exports=':host {\n  display: block ;\n  font-size: 18px ;\n}\ndiv.container {\n  position: relative ;\n}\n.indicator {\n  background-color: rgba(255, 215, 0, 0.1);\n  position: absolute ;\n  z-index: 2 ;\n}\n.indicator__cta {\n  top: -20px;\n  left: 50% ;\n  position: absolute ;\n}\n.indicator__cta-link {\n  background-color: #333333 ;\n  border-radius: 5px 5px 5px 5px ;\n  bottom: 0px ;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n  color: #FFFFFF ;\n  cursor: pointer ;\n  left: 0px ;\n  padding: 11px 22px 10px 22px ;\n  position: absolute ;\n  transform: translateX(-50%);\n  white-space: nowrap ;\n}\n.indicator__cta-link:after {\n  bottom: -11px;\n  font-size: 15px ;\n  left: 50% ;\n  line-height: 15px ;\n  content: "â–¼";\n  color: #333333 ;\n  position: absolute ;\n  transform: translateX(-50%);\n}\n.indicator__cta-link:hover {\n  background-color: gold ;\n  color: #000000 ;\n}\n.indicator__cta-link:hover:after {\n  color: gold ;\n}\n'},54:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,c=arguments.length,l=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(l=(c<3?i(l):c>3?i(e,n,l):i(e,n))||l);return c>3&&l&&Object.defineProperty(e,n,l),l},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),l=n(0),r=n(0),s=n(0),a=function(){function TextSelectDirective(t,e){var n=this;this.handleMousedown=function(){document.addEventListener("mouseup",n.handleMouseup,!1)},this.handleMouseup=function(){document.removeEventListener("mouseup",n.handleMouseup,!1),n.processSelection()},this.handleSelectionchange=function(){n.hasSelection&&n.processSelection()},this.elementRef=t,this.zone=e,this.hasSelection=!1,this.textSelectEvent=new r.EventEmitter}return TextSelectDirective.prototype.ngOnDestroy=function(){this.elementRef.nativeElement.removeEventListener("mousedown",this.handleMousedown,!1),document.removeEventListener("mouseup",this.handleMouseup,!1),document.removeEventListener("selectionchange",this.handleSelectionchange,!1)},TextSelectDirective.prototype.ngOnInit=function(){var t=this;this.zone.runOutsideAngular(function(){t.elementRef.nativeElement.addEventListener("mousedown",t.handleMousedown,!1),document.addEventListener("selectionchange",t.handleSelectionchange,!1)})},TextSelectDirective.prototype.getRangeContainer=function(t){for(var e=t.commonAncestorContainer;e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;return e},TextSelectDirective.prototype.isRangeFullyContained=function(t){for(var e=this.elementRef.nativeElement,n=t.commonAncestorContainer;n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;return e.contains(n)},TextSelectDirective.prototype.processSelection=function(){var t=this,e=document.getSelection();if(this.hasSelection&&this.zone.runGuarded(function(){t.hasSelection=!1,t.textSelectEvent.next({text:"",viewportRectangle:null,hostRectangle:null})}),e.rangeCount&&e.toString()){var n=e.getRangeAt(0),o=this.getRangeContainer(n);if(this.elementRef.nativeElement.contains(o)){var i=n.getBoundingClientRect(),c=this.viewportToHost(i,o);this.zone.runGuarded(function(){t.hasSelection=!0,t.textSelectEvent.emit({text:e.toString(),viewportRectangle:{left:i.left,top:i.top,width:i.width,height:i.height},hostRectangle:{left:c.left,top:c.top,width:c.width,height:c.height}})})}}},TextSelectDirective.prototype.viewportToHost=function(t,e){var n=this.elementRef.nativeElement,o=n.getBoundingClientRect(),i=t.left-o.left,c=t.top-o.top,l=e;do{i+=l.scrollLeft,c+=l.scrollTop}while(l!==n&&(l=l.parentNode));return{left:i,top:c,width:t.width,height:t.height}},TextSelectDirective=o([c.Directive({selector:"[textSelect]",outputs:["textSelectEvent: textSelect"]}),i("design:paramtypes",[l.ElementRef,s.NgZone])],TextSelectDirective)}();e.TextSelectDirective=a}},[50]);